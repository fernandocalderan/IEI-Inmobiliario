<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Formulario IEI</title>
  <link rel="stylesheet" href="assets/app.css" />
</head>
<body data-page="form">
  <header>
    <div class="container row" style="justify-content:space-between">
      <div class="brand">IEI Inmobiliario</div>
      <a class="button secondary" href="index.html">Volver</a>
    </div>
  </header>

  <main class="container card">
    <h2>Informe de Ventabilidad</h2>
    <p class="help">Completa el formulario por pasos (2-4 minutos).</p>

    <div id="form-error" class="error"></div>

    <form id="iei-form">
      <section class="step active" data-step="1">
        <h3>1) Inmueble</h3>
        <div class="grid">
          <div>
            <label>Zona (zone_key)</label>
            <input name="zone_key" placeholder="castelldefels" required />
          </div>
          <div>
            <label>Municipio</label>
            <input name="municipality" required />
          </div>
          <div>
            <label>Barrio (opcional)</label>
            <input name="neighborhood" />
          </div>
          <div>
            <label>Código postal (opcional)</label>
            <input name="postal_code" />
          </div>
          <div>
            <label>Tipología</label>
            <select name="property_type" required>
              <option value="piso">Piso</option>
              <option value="atico">Ático</option>
              <option value="planta_baja">Planta baja</option>
              <option value="casa_adosada">Casa adosada</option>
              <option value="chalet">Chalet</option>
            </select>
          </div>
          <div>
            <label>m²</label>
            <input type="number" step="0.1" min="1" name="m2" required />
          </div>
          <div>
            <label>Estado</label>
            <select name="condition" required>
              <option value="reformado">Reformado</option>
              <option value="buen_estado">Buen estado</option>
              <option value="a_reformar_parcial">A reformar parcial</option>
              <option value="a_reformar_integral">A reformar integral</option>
            </select>
          </div>
          <div>
            <label>Año construcción (opcional)</label>
            <input type="number" min="1800" max="2100" name="year_built" />
          </div>
        </div>

        <div class="grid" style="margin-top:12px">
          <label><input type="checkbox" name="has_elevator" /> Ascensor</label>
          <label><input type="checkbox" name="has_terrace" /> Terraza</label>
          <label><input type="checkbox" name="has_parking" /> Parking</label>
          <label><input type="checkbox" name="has_views" /> Vistas</label>
        </div>

        <div style="margin-top:10px">
          <label>m² terraza (si aplica)</label>
          <input type="number" step="0.1" min="0" name="terrace_m2" />
        </div>
      </section>

      <section class="step" data-step="2">
        <h3>2) Intención</h3>
        <div class="grid">
          <div>
            <label>Horizonte venta</label>
            <select name="sale_horizon" required>
              <option value="<3m">&lt;3m</option>
              <option value="3-6m">3-6m</option>
              <option value="6-12m">6-12m</option>
              <option value="valorando">Valorando</option>
            </select>
          </div>
          <div>
            <label>Motivación</label>
            <select name="motivation" required>
              <option value="traslado">Traslado</option>
              <option value="herencia">Herencia</option>
              <option value="divorcio">Divorcio</option>
              <option value="finanzas">Finanzas</option>
              <option value="mejora">Mejora</option>
              <option value="compra_otra">Compra otra</option>
              <option value="inversion">Inversión</option>
              <option value="curiosidad">Curiosidad</option>
              <option value="otro">Otro</option>
            </select>
          </div>
          <div>
            <label>¿Ya publicado?</label>
            <select name="already_listed" required>
              <option value="no">No</option>
              <option value="si_con_agencia">Sí con agencia</option>
              <option value="si_por_su_cuenta">Sí por su cuenta</option>
            </select>
          </div>
          <div>
            <label>Exclusiva</label>
            <select name="exclusivity" required>
              <option value="si">Sí</option>
              <option value="depende">Depende</option>
              <option value="no">No</option>
            </select>
          </div>
        </div>
      </section>

      <section class="step" data-step="3">
        <h3>3) Precio esperado</h3>
        <label>Precio esperado (€) (opcional)</label>
        <input type="number" min="1" step="100" name="expected_price" />
        <p class="help">Si no lo sabes, puedes dejarlo vacío.</p>
      </section>

      <section class="step" data-step="4">
        <h3>4) Contacto y consentimiento</h3>
        <div class="grid">
          <div>
            <label>Nombre</label>
            <input name="owner_name" required />
          </div>
          <div>
            <label>Email</label>
            <input type="email" name="owner_email" required />
          </div>
          <div>
            <label>Teléfono</label>
            <input name="owner_phone" required />
          </div>
          <div>
            <label>Campaña origen (opcional)</label>
            <input name="source_campaign" />
          </div>
        </div>
        <div style="display:none" aria-hidden="true">
          <label>Company website</label>
          <input name="company_website" tabindex="-1" autocomplete="off" />
        </div>
        <label style="margin-top:12px">
          <input type="checkbox" name="consent_contact" required />
          Acepto que mis datos sean tratados para elaborar mi informe y para que inmobiliarias colaboradoras puedan contactarme sobre la posible venta de mi inmueble.
        </label>
        <p class="help">No es tasación oficial.</p>
      </section>

      <div class="row" style="margin-top:16px; justify-content:space-between">
        <button class="button secondary" type="button" id="prev-step">Anterior</button>
        <div>
          <button class="button" type="button" id="next-step">Siguiente</button>
          <button class="button" type="submit" id="submit-form" style="display:none">Enviar</button>
        </div>
      </div>
    </form>
  </main>

  <script src="assets/runtime-config.js"></script>
  <script src="assets/app.js"></script>
</body>
</html>
